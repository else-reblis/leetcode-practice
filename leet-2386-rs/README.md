# Leetcode 2386

不想画图，所以尽可能用文字来说明。在解题时要注意到以下几点。

* **负数和零的处理**：比较简单的一环。

* **元素的选择、幂集与二进制表示**：没深入想，也对解题帮助不大。

* **构造二叉树、遍历顺序**：没想到。考虑一个以选择第一个元素 $\{1\}$ 为根节点，深度为 $n$ 的完全二叉树，其上的每个元素表示一种选择方案。我们可以用以下的方式从根节点开始构建整棵树：

  对每个深度为 $d$ 的非叶结点表示的选择方案 $S \subset \{1, 2, \cdots, d\}$，我们考虑：

  1. 左节点为 $S \cup \{d + 1\}$ 
  2. 右节点为 $S \setminus \{d\} \cup \{d + 1\}$

  对这棵树我们注意到两点：

  1. 该树深度为 $d$ 的子树上结点的集合为 $\{1, 2, \cdots, d\}$ 的幂集，按层归纳可证；
  2. 与解法有关。我们用 $\text{arr}$ 来表示数组，用 $\text{arr}[S]$ 来代表数组的一个子集。当数组从小到大排序时，下一个最小的元素只可能在所表示的队列中产生。因为每个子节点表示的子集之和一定不小于父节点的，对左右节点讨论即可知。
